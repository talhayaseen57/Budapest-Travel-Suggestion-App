<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budapest Travel</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">
</head>

<body class="bg-light">

    <div class="d-flex" id="wrapper">

        <!-- Sidebar -->
        <aside id="sidebar-wrapper" class="bg-white shadow-sm">
            <div class="sidebar-heading text-center fw-bold py-4 border-bottom">
                üåç Budapest Visit
            </div>

            <div class="list-group list-group-flush">
                <button class="list-group-item list-group-item-action" onclick="showAll()">
                    <i class="bi bi-grid me-2"></i> All Suggestions
                </button>
                <button class="list-group-item list-group-item-action" onclick="scrollToForm()">
                    <i class="bi bi-plus-circle me-2"></i> Add New
                </button>
                <button class="list-group-item list-group-item-action text-danger" onclick="clearSearch()">
                    <i class="bi bi-x-circle me-2"></i> Clear Search
                </button>
            </div>
        </aside>

        <!-- Page Content -->
        <div id="page-content-wrapper" class="flex-fill">

            <!-- Top Navbar -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm px-3">
                <button class="btn btn-outline-primary me-3" id="sidebarToggle">
                    <i class="bi bi-list"></i>
                </button>

                <span class="navbar-brand fw-semibold">Explore Budapest</span>

                <form class="ms-auto d-flex">
                    <input id="searchInput" class="form-control rounded-pill px-4" type="search"
                        placeholder="Search places, activities..." aria-label="Search">
                </form>
            </nav>

            <!-- Main Content -->
            <div class="container-fluid p-4">

                <div class="row">

                    <!-- Add Suggestion -->
                    <div class="col-lg-4 mb-4" id="add-form">
                        <div class="card border-0 shadow-lg rounded-4">
                            <div class="card-header bg-primary text-white fw-bold rounded-top-4">
                                Add Travel Suggestion
                            </div>

                            <div class="card-body">
                                <form id="addSuggestionForm">
                                    <div class="mb-3">
                                        <label class="form-label">Place / Activity</label>
                                        <input type="text" name="name" class="form-control rounded-pill" required>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Google Maps URL</label>
                                        <input type="url" name="location" class="form-control rounded-pill" required>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Description</label>
                                        <textarea name="description" class="form-control rounded-3" rows="3"
                                            required></textarea>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Opening Times</label>
                                        <input type="text" name="timings" class="form-control rounded-pill" required>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Approx. time required</label>
                                        <input type="text" name="approxTime" class="form-control rounded-pill" required>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Photo</label>
                                        <input type="file" name="photo" class="form-control rounded-pill">
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label">Website</label>
                                        <input type="url" name="importantLink" class="form-control rounded-pill">
                                    </div>

                                    <button class="btn btn-success w-100 rounded-pill">
                                        <i class="bi bi-check-circle me-2"></i>Add Suggestion
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Suggestions -->
                    <div class="col-lg-8">
                        <h4 class="fw-bold mb-4">Travel Suggestions for Aleyna</h4>

                        <div class="row g-4" id="suggestions-container">
                            <!-- Cards injected via JS -->
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="/js/main.js"></script>

    <script>
        // Sidebar toggle
        document.getElementById('sidebarToggle').addEventListener('click', () => {
            document.getElementById('wrapper').classList.toggle('toggled');
        });

        // SEARCH FUNCTIONALITY
        const searchInput = document.getElementById('searchInput');

        searchInput.addEventListener('keyup', () => {
            const query = searchInput.value.toLowerCase();
            const cards = document.querySelectorAll('.travel-card');

            cards.forEach(card => {
                const text = card.innerText.toLowerCase();
                console.log("search triggered..")
                card.style.display = text.includes(query) ? 'block' : 'none';
            });
        });

        function clearSearch() {
            searchInput.value = '';
            searchInput.dispatchEvent(new Event('keyup'));
        }

        function scrollToForm() {
            document.getElementById('add-form').scrollIntoView({ behavior: 'smooth' });
        }

        function showAll() {
            clearSearch();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

    </script>

</body>

</html>